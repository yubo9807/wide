import{L as f,E,S as D,c as B}from"./page-access.16a25869.js";import{I as F,b as w}from"./utils.0cc7f138.js";import{r as S}from"./layout.f3c0a27e.js";import{i as l,f as r,j as I,c as y}from"./element-plus.c6cd903c.js";import{I as k,aq as t}from"./vue-1679627587.35c701e1.js";import"./vue-router.35a42f14.js";import"./tools.9916a02f.js";function x(u){return S({url:"/user/list",method:"get",params:u})}const i="page-users",L={name:"",role:""};class T extends F{constructor(){super(L,x),this.initData()}}const V=k(()=>{const{paging:u,onCurrentChange:s,onSizeChange:p,pagingIndex:c,tableData:m,initData:K,form:a,search:o,reset:d}=new T;function n(e){e.keyCode===13&&o()}const g=()=>t(D,{storageKey:i,inputList:[{label:"\u7528\u6237\u540D",slots:t(l,{placeholder:"\u8BF7\u8F93\u5165\u7528\u6237\u540D",modelValue:a.name,onInput:e=>a.name=e,onKeydown:n,onClear:o})},{label:"\u89D2\u8272",slots:t(l,{placeholder:"\u8BF7\u8F93\u5165\u89D2\u8272",modelValue:a.role,onInput:e=>a.role=e,onKeydown:n,onClear:o})}],buttonList:[t(r,{type:"primary",onClick:o},{default:()=>"\u641C\u7D22"}),t(r,{onClick:d},{default:()=>"\u91CD\u7F6E"})]});function h(e){y.confirm("\u786E\u8BA4\u6CE8\u9500\u5F53\u524D\u7528\u6237","\u8B66\u544A",{confirmButtonText:"\u786E\u8BA4",cancelButtonText:"\u53D6\u6D88",type:"warning"}).then(async()=>{console.log("\u6CE8\u9500\u8BE5\u7528\u6237")}).catch(()=>{})}const C=[{label:"\u5E8F\u53F7",width:60,slots:e=>c(u.pageNumber,u.pageSize,e.$index)},{prop:"name",label:"\u7528\u6237\u540D",width:120},{prop:"role",label:"\u89D2\u8272",width:120},{prop:"mail",label:"\u90AE\u7BB1",width:190},{prop:"create_time",label:"\u6CE8\u518C\u65F6\u95F4",width:160,slots:e=>w(e.row.accessTime*1e3)},{prop:"remark",label:"\u5907\u6CE8",minWidth:140},{label:"\u64CD\u4F5C",fixed:"right",width:80,slots:e=>t(I,{type:"danger",onClick:()=>h(e.row)},{default:()=>"\u6CE8\u9500"})}],b=()=>t(B,{storageKey:i,tableProps:{data:m.value},tableColumnProps:C});return()=>t(t(f,null,{default:()=>[t(g,null),t(b,null),t(E,{currentPage:u.pageNumber,pageSize:u.pageSize,total:u.total,onCurrentChange:s,onSizeChange:p})]}))});export{V as default};
