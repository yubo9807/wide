var b=Object.defineProperty;var S=(e,t,n)=>t in e?b(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var r=(e,t,n)=>(S(e,typeof t!="symbol"?t+"":t,n),n),d=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)};var o=(e,t,n)=>(d(e,t,"read from private field"),n?n.call(e):t.get(e)),g=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},h=(e,t,n,a)=>(d(e,t,"write to private field"),a?a.call(e,n):t.set(e,n),n);import{b as p}from"./element-plus.1d80007c.js";import{a2 as w,v as M}from"./vue-1679627021.a934d265.js";const z=(e,t,...n)=>{let a=0;return function(){let s=new Date().getTime();s-a>t&&(e.apply(this,...n),a=s)}};function B(e,t,...n){let a=null;return function(){let s=this;clearTimeout(a),a=setTimeout(function(){e.apply(s,...n)},t)}}function T(e,t=""){return e.then(n=>[null,n]).catch(n=>t?[Object.assign({},n,t),null]:[n,null])}function L(){window.addEventListener("online",()=>{p.closeAll(),p.success("\u7F51\u7EDC\u6062\u590D")}),window.addEventListener("offline",()=>{p({type:"error",message:"\u7F51\u7EDC\u4E2D\u65AD",duration:0,showClose:!0})})}function P(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function*I(){let e=0;for(;;)yield e,e++}function k(e=0,t=["Byte","KB","MB","GB","TB"]){const n=t.length;let a="";e<1024&&(a=e+t[0]);for(let s=1;s<n;s++)e>1024**s&&(a=Math.ceil(e/1024**s)+t[s]);return a}function O(e,t,n){return(e-1)*t+n+1}function U(){return"#"+Math.random().toString(16).slice(2,8)}function v(e){return e[0].toLocaleUpperCase()+e.slice(1)}function x(e){return e.split(/\-|\_/).map(t=>v(t)).join("")}function y(e,t=[null,void 0,""]){const n={};for(const a in e)t.includes(e[a])||(n[a]=e[a]);return n}function A(e){const t=Object.keys(e).reduce((a,s)=>(e.hasOwnProperty(s)&&(typeof e[s]=="string"?a+=e[s].length+s.length:a+=JSON.stringify(e[s]).replace(/"/g,"").length+s.length),a),0),n=Object.getOwnPropertySymbols(e).reduce((a,s)=>(e.hasOwnProperty(s)&&(typeof e[s]=="string"?a+=e[s].length:a+=JSON.stringify(e[s]).replace(/"/g,"").length),a),0);return t+n}function C(e){let t=e?new Date(e):new Date;return{year:t.getFullYear()+"",month:t.getMonth()+1,day:t.getDate(),hour:t.getHours(),minute:t.getMinutes(),second:t.getSeconds()}}function G(e=new Date,t="YYYY-MM-DD hh:mm:ss"){const{year:n,month:a,day:s,hour:c,minute:f,second:D}=C(e);return t.replace(/YYYY/g,n).replace(/YY/g,n.substr(2,2)).replace(/MM/g,(a<10?"0":"")+a).replace(/DD/g,(s<10?"0":"")+s).replace(/hh/g,(c<10?"0":"")+c).replace(/mm/g,(f<10?"0":"")+f).replace(/ss/g,(D<10?"0":"")+D)}function m(e=0){let t="";if(e<60)t=e+"\u79D2";else if(e<3600){const a=Math.floor(e/60),s=e-60*a;t=a+"\u5206\u949F",s>0&&(t+=m(s))}else if(e<3600*24){const a=Math.floor(e/3600),s=e-3600*a;t=a+"\u5C0F\u65F6",s>0&&(t+=m(s))}else{const a=Math.floor(e/86400),s=e-86400*a;t=a+"\u5929",s>0&&(t+=m(s))}return t}function H(){return new Date(new Date().toDateString()).getTime()}var i,u;class Y{constructor(t,n){g(this,i,{});g(this,u,()=>T(Promise.resolve()));r(this,"paging",w({pageNumber:1,pageSize:10,total:0}));r(this,"onCurrentChange",t=>{this.paging.pageNumber=t,this.initData()});r(this,"onSizeChange",t=>{this.paging.pageSize=t,this.initData()});r(this,"pagingIndex",O);r(this,"form");r(this,"search",()=>{this.paging.pageNumber=1,Promise.resolve().then(this.initData)});r(this,"reset",()=>{for(const t in o(this,i))this.form[t]=o(this,i)[t];this.search()});r(this,"tableData",M([]));r(this,"initData",async()=>{const t=y({...this.form,pageNumber:this.paging.pageNumber,pageSize:this.paging.pageSize}),[n,a]=await o(this,u).call(this,t);if(n){this.tableData.value=[];return}const{list:s,total:c}=a.data;this.tableData.value=s,this.paging.total=c});h(this,i,Object.freeze(t)),this.form=w(Object.assign({},o(this,i))),h(this,u,n)}}i=new WeakMap,u=new WeakMap;var l;class J extends Y{constructor(n,a){super(n,a);g(this,l,null);r(this,"initData",async()=>{const n=y(this.form),[a,s]=await o(this,l).call(this,n);if(a){this.tableData.value=[];return}this.tableData.value=s.data,this.paging.total=s.data.length});h(this,l,a)}}l=new WeakMap;export{Y as I,T as a,G as b,J as c,y as d,k as e,L as f,m as g,A as h,P as i,B as j,x as k,I as l,H as m,U as n,z as t};
