import{q as g,p as v,v as b,n as w,I as $,o as A,g as B,h as p,Y as k}from"./vue-1679627021.a934d265.js";import{u as C}from"./vue-router.66467d2c.js";import{d as D}from"./page-access.8950e182.js";import{m as S}from"./utils.0f533082.js";import{u as I}from"./main.6b4bfbbc.js";import{L,u as N,i as O,a as T,b as j,c as V,d as q,e as F}from"./echarts.52838dc0.js";import{_ as G}from"./layout.0f849ecc.js";import"./element-plus.1d80007c.js";import"./tools.83bd328c.js";import"./main.1753c60c.js";import"./element-reset.0831d18a.js";const n={grid:{top:"80px",right:"0",bottom:"24px",left:"50px",show:!0,borderColor:"transparent"},title:{text:"\u7AD9\u70B9\u8BBF\u5BA2\u91CF",subtext:"Site visitors number"},tooltip:{trigger:"axis"},xAxis:{type:"category",boundaryGap:!1,data:[],axisTick:{show:!1}},yAxis:{type:"value",minInterval:10},series:[{type:"line",smooth:!0,data:[],areaStyle:{color:new L(0,0,0,1,[{offset:0,color:"#5470C6"},{offset:1,color:"transparent"}])}}]};N([T,j,V,q,F]);const M=()=>{const o=w(),i=C();let e=null;g(()=>{e=O(o.refs.chart),e.on("click",s=>{s.data!==0&&i.push({name:"Access",query:{log:s.name.trim()+".log"}})})});const c=I();v(()=>c.clientWidth,s=>{e.resize()});const a=b(0);return async function(){const d=S()-5184e5,m=Math.floor(new Date(d).getTime()/1e3),[f,_]=await D({startTime:m});if(f)return;const{data:r}=_,t=Object.keys(r),h=Object.values(r),l="                 ",u=t.length;t[0]=l+t[0],t[u-1]=t[u-1]+l,n.xAxis.data=t,n.series[0].data=Object.values(r),e.setOption(n),a.value=h.reduce((x,y)=>x+y)}(),{visitorsNumber:a}};const R=$({setup:M}),z={class:"wrap"},E={ref:"chart",class:"chart"},W={class:"visitors-number"};function Y(o,i,e,c,a,s){return A(),B("div",z,[p("div",E,null,512),p("span",W,"\u8FD1\u4E00\u5468\u8BBF\u95EE\u91CF\uFF1A"+k(o.visitorsNumber)+" \u6B21",1)])}const ot=G(R,[["render",Y],["__scopeId","data-v-0f8ee1d9"]]);export{ot as default};
